## คำถามสำหรับวิเคราะห์

1. Task อยู่ใน Running state เมื่อไหร่บ้าง?
คำตอบ:
Task จะอยู่ใน Running state ก็ต่อเมื่อ Scheduler เลือกให้ Task นั้นใช้ CPU อยู่ในขณะนั้น
หรือพูดง่าย ๆ คือ Task นั้น “กำลังถูกประมวลผลจริง” โดยไม่นอนพักหรือรอเหตุการณ์ใด ๆ
สรุป:
Running = Task กำลังทำงานบน CPU ตอนนี้
จะออกจาก Running state เมื่อมี Task ที่ Priority สูงกว่ามาแย่ง หรือ Task เรียกฟังก์ชัน delay/block
2. ความแตกต่างระหว่าง Ready และ Blocked state คืออะไร?
ลักษณะ	Ready	Blocked
ความหมาย	Task พร้อมทำงาน	Task กำลังรอเหตุการณ์บางอย่าง
การใช้ CPU	ยังไม่ได้ใช้ CPU แต่พร้อมรันทันทีเมื่อถึงคิว	ไม่สามารถใช้ CPU จนกว่าเหตุการณ์จะเกิดขึ้น
ตัวอย่าง	Scheduler ยังไม่เลือกให้ทำงาน	รอเวลา (delay), รอ semaphore, รอ queue
สรุป:
Ready = พร้อมแต่ยังไม่ถูกเลือก
Blocked = ยังไม่พร้อม ต้องรอเหตุการณ์ก่อน
3. การใช้ vTaskDelay() ทำให้ task อยู่ใน state ใด?
คำตอบ:
เมื่อ Task เรียก vTaskDelay() → Task จะเข้าสู่ Blocked state
เพราะ Task นั้น “รอเวลา” ให้ครบตาม tick ที่กำหนดก่อนจะกลับมาทำงานอีกครั้ง
สรุป:
vTaskDelay() = ย้าย Task จาก Running → Blocked → กลับมา Ready เมื่อครบเวลา
4. การ Suspend task ต่างจาก Block อย่างไร?
รายการ	Suspend	Block
การเข้าสู่สถานะ	ถูกหยุดชั่วคราวด้วยคำสั่ง vTaskSuspend()	ถูกหยุดอัตโนมัติจากการรอเหตุการณ์ (delay, semaphore ฯลฯ)
การกลับมาทำงาน	ต้องถูก vTaskResume() โดย Task อื่น	กลับมาทำงานเองเมื่อเหตุการณ์หรือเวลาครบ
การจัดการโดย Scheduler	Scheduler จะไม่พิจารณา Task นี้เลย	Scheduler จะปลุก Task เมื่อถึงเวลา/เหตุการณ์
สรุป:
Suspend = หยุดด้วยคำสั่งจากภายนอก
Block = หยุดเพราะรอเงื่อนไขของตัวเอง
5. Task ที่ถูก Delete จะกลับมาได้หรือไม่?
คำตอบ:
ไม่ได้
เมื่อ Task ถูกลบ (vTaskDelete()) หน่วยความจำที่จองไว้ (stack และ TCB) จะถูกคืนกลับให้ระบบ
ดังนั้น Task นั้น จะไม่สามารถกลับมาทำงานได้อีก เว้นแต่จะสร้างใหม่ด้วย xTaskCreate()
สรุป:
Task ที่ถูก Delete = หายถาวร ต้องสร้างใหม่เท่านั้น